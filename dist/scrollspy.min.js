!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ScrollSpy=t()}(this,function(){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,s=(function(e,t){var n,l,f;e.exports=(n=window,l={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}},f=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){n.setTimeout(e,1e3/60)},function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"easeOutSine",a=0,c=o.scrollY||document.documentElement.scrollTop,u=Math.max(.1,Math.min(Math.abs(c-i)/e,.8));!function e(){var t=(a+=1/60)/u,n=l[s](t),r=t<1?c+(i-c)*n:i;t<1&&f(e),o.scrollTo(0,r)}()})}(e={exports:{}},e.exports),e.exports);return function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return i}({linkCurrentClass:"current",linksContainerSelector:".js-scroll-spy-nav",sectionSelector:".js-scroll-spy-section",headerOffset:!0,headerClass:".c-header"},e);return this.init(t),window.addEventListener("load",this.refreshPositions.bind(this)),window.addEventListener("resize",this.refreshPositions.bind(this)),this}var e,t,r;return e=n,(t=[{key:"init",value:function(e){this.setProperties(e),this.getSectionData(),this.getCurrentSectionIndex(),this.setCurrentState(),this.bindEvents()}},{key:"setProperties",value:function(e){var t=document;this.linksContainerSelector=e.linksContainerSelector,this.sectionSelector=e.sectionSelector,this.linksContainer=t.querySelector(this.linksContainerSelector),this.links=o(this.linksContainer.querySelectorAll("a")),this.sections=o(t.querySelectorAll(this.sectionSelector)),this.headerOffset=e.headerOffset,this.headerClass=e.headerClass,this.linkCurrentClass=e.linkCurrentClass,this.currentIdx=0,this.data={offsets:[],ids:[]}}},{key:"getSectionData",value:function(){var t=this;this.sections.forEach(function(e){t.data.ids.push(e.getAttribute("id")),t.data.offsets.push(t.getSectionOffset(e))})}},{key:"refreshPositions",value:function(){var n=this;this.data.offsets=this.data.offsets.map(function(e,t){return n.getSectionOffset(n.sections[t])})}},{key:"getSectionOffset",value:function(e){return this.headerOffset?e.offsetTop-document.querySelector(this.headerClass).offsetHeight:e.offsetTop}},{key:"getCurrentSectionIndex",value:function(){var r=this,i=window.pageYOffset;this.data.offsets.forEach(function(e,t){var n=r.data.offsets[t+1];(e<=i&&i<n||e<=i&&void 0===n)&&(r.currentIdx=t)}),this.setCurrentState()}},{key:"setCurrentState",value:function(){var t=this;document.querySelector(this.linksContainerSelector).querySelectorAll(".".concat(this.linkCurrentClass)).forEach(function(e){return e.classList.remove(t.linkCurrentClass)}),this.links[this.currentIdx].parentNode.classList.add(this.linkCurrentClass)}},{key:"scrollToCurrentSection",value:function(){s(this.data.offsets[this.currentIdx])}},{key:"bindEvents",value:function(){var n=this,e=window;this.links.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),n.currentIdx=t,n.scrollToCurrentSection()})}),e.addEventListener("scroll",function(e){n.getCurrentSectionIndex()})}}])&&i(e.prototype,t),r&&i(e,r),n}()});
